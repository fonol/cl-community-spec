<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" href="/styles.css">
<link rel="stylesheet" href="/highlight-lisp/themes/github.css">
<script defer src="/scripts.js"></script>
<title>replace (CLCS)</title>

<link href="index.html#Top" rel="start" title="Top">
<link href="Sequences-Dictionary.html#Sequences-Dictionary" rel="up" title="Sequences Dictionary">
<link href="substitute.html#substitute" rel="next" title="substitute">
<link href="mismatch.html#mismatch" rel="prev" title="mismatch">


</head>

<body lang="en">

                            <div class="top-wrapper">
                                <div class="top">
                                    <div class="search">
                                        <svg height="20" width="20" viewBox="0 0 512 512"><path d="M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M338.29 338.29L448 448"/></svg>
                                        <input type="text" oninput="search(event)" onkeydown="searchKeydown(event)" placeholder="Search for pages">
                                        <div id="search__drop" onblur="hideSearch()"></div>
                                    </div>
                                    <a class="index-btn" href="index.html">
                                        <svg height="20" width="20" viewBox="0 0 512 512"><title>Index</title><path d="M80 212v236a16 16 0 0016 16h96V328a24 24 0 0124-24h80a24 24 0 0124 24v136h96a16 16 0 0016-16V212" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/><path d="M480 256L266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256M400 179V64h-48v69" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/></svg>
                                    </a>
                                </div>
                            </div>
                            <div class="nav">
                                <a href="mismatch.html" class="nav-btn nav__prev ">
                                    <svg height="14" width="14" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M328 112L184 256l144 144"/></svg>
                                    mismatch
                                </a>
                                <a href="Sequences-Dictionary.html" class="nav-btn nav__up ">
                                    <svg height="14" width="14" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M112 328l144-144 144 144"/></svg>
                                    Sequences Dictionary
                                </a>
                                <a href="substitute.html" class="nav-btn nav__next ">
                                    substitute
                                    <svg height="14" width="14" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="M184 112l144 144-144 144"/></svg>
                                </a>
                            </div>
                        
<div class="section top-most">
<div class="node-type">Function</div>
<h4 class="subsection">replace                                                          </h4>

<p><code>replace</code>  <i>sequence-1 sequence-2 &amp;key</i> start1 end1 start2 end2 &rArr;  <i>sequence-1</i>
</p>
</div>
<div class="section">
<h4 class="subsubheading">Arguments and Values</h4>

<p><i>sequence-1</i>&mdash;a <i>sequence</i>.
</p>
<p><i>sequence-2</i>&mdash;a <i>sequence</i>.
</p>
<p><i>start1</i>, <i>end1</i>&mdash;<i>bounding index designators</i> of <i>sequence-1</i>.
 The defaults for <i>start1</i> and <i>end1</i> are <tt>0</tt> and <a href="NILv.html">nil</a>, respectively.
</p>
<p><i>start2</i>, <i>end2</i>&mdash;<i>bounding index designators</i> of <i>sequence-2</i>.
 The defaults for <i>start2</i> and <i>end2</i> are <tt>0</tt> and <a href="NILv.html">nil</a>, respectively.
</p>
</div>
<div class="section">
<h4 class="subsubheading">Description</h4>

<p>Destructively modifies <i>sequence-1</i> 
by replacing the <i>elements</i> of <i>subsequence-1</i>
 	      <i>bounded</i> by <i>start1</i> and <i>end1</i>
with the <i>elements</i> of <i>subsequence-2</i> 
      <i>bounded</i> by <i>start2</i> and <i>end2</i>. 
</p>
<p><i>Sequence-1</i> is destructively modified by copying successive
<i>elements</i> into it from <i>sequence-2</i>.
<i>Elements</i> of the subsequence of <i>sequence-2</i> 
<i>bounded</i> by <i>start2</i> and <i>end2</i>
are copied into the subsequence of <i>sequence-1</i> 
<i>bounded</i> by <i>start1</i> and <i>end1</i>.
If these subsequences are not of the same length,
then the shorter length determines how many <i>elements</i> are copied;
the extra <i>elements</i> near the end of the longer subsequence 
are not involved in the operation.
The number of elements copied can be expressed as:
</p>
<div class="example">
<pre class="example"><code> (min (- <i>end1</i> <i>start1</i>) (- <i>end2</i> <i>start2</i>))
</code>
</pre></div>

<p>If <i>sequence-1</i> and <i>sequence-2</i> are the <i>same</i> <i>object</i>
and the region being modified overlaps the region being copied
from, then it is as if the entire source region were copied to another
place and only then copied back into the target region.
However, if <i>sequence-1</i> and <i>sequence-2</i> are not the same,
but the region being modified overlaps the region being copied from
(perhaps because of shared list structure or displaced <i>arrays</i>),
then after the <b><a href="replace.html">replace</a></b> operation
the subsequence of <i>sequence-1</i> being modified will have
unpredictable contents.
It is an error if the elements of <i>sequence-2</i> are not of a 
<i>type</i> that can be stored into <i>sequence-1</i>.
</p>
</div>
<div class="section">
<h4 class="subsubheading">Examples</h4>
<div class="example">
<pre class="example"><code> (replace &quot;abcdefghij&quot; &quot;0123456789&quot; :start1 4 :end1 7 :start2 4) 
&rArr;  &quot;abcd456hij&quot;
 (setq lst &quot;012345678&quot;) &rArr;  &quot;012345678&quot;
 (replace lst lst :start1 2 :start2 0) &rArr;  &quot;010123456&quot;
 lst &rArr;  &quot;010123456&quot;
</code>
</pre></div>

</div>
<div class="section">
<h4 class="subsubheading">Side Effects</h4>

<p>The <i>sequence-1</i> is modified.
</p>
</div>
<div class="section">
<h4 class="subsubheading">See Also</h4>

<p><a href="fill.html#fill">fill</a>
</p>



</div>

                    <div class="section">
                        <h3>Backlinks</h3>
                        <a href="fill.html">fill</a>, <a href="Function-Call-Forms-as-Places.html">Function Call Forms as
            Places</a>, <a href="replace.html">replace</a>, <a href="Sequence-Concepts.html">Sequence Concepts</a>, <a href="Sequences-Dictionary.html">Sequences Dictionary</a>, <a href="subseq.html">subseq</a>, <a href="Symbols-in-the-COMMON_002dLISP-Package.html">Symbols in the COMMON-LISP Package</a>
                    </div>
                
</body>
<script type="text/javascript" src="/highlight-lisp/highlight-lisp.js"></script>
</html>
