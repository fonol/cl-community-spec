<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Determining the Class Precedence List (ANSI and GNU Common Lisp Document)</title>

<meta name="description" content="Determining the Class Precedence List (ANSI and GNU Common Lisp Document)">
<meta name="keywords" content="Determining the Class Precedence List (ANSI and GNU Common Lisp Document)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="index.html#Top" rel="start" title="Top">
<link href="Classes.html#Classes" rel="up" title="Classes">
<link href="Topological-Sorting.html#Topological-Sorting" rel="next" title="Topological Sorting">
<link href="Inheritance-of-Class-Options.html#Inheritance-of-Class-Options" rel="prev" title="Inheritance of Class Options">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="Determining-the-Class-Precedence-List"></a>
<div class="header">
<p>
Next: <a href="Redefining-Classes.html#Redefining-Classes" accesskey="n" rel="next">Redefining Classes</a>, Previous: <a href="Inheritance.html#Inheritance" accesskey="p" rel="prev">Inheritance</a>, Up: <a href="Classes.html#Classes" accesskey="u" rel="up">Classes</a> &nbsp; </p>
</div>
<hr>
<a name="Determining-the-Class-Precedence-List-1"></a>
<h4 class="subsection">4.3.5 Determining the Class Precedence List</h4>

<p>The <b>defclass</b> form for a <i>class</i> provides a total ordering
on that <i>class</i> and its direct <i>superclasses</i>.  This ordering is
called the <i>local precedence order</i>
<a name="index-local-precedence-order-1"></a>
.  It is an ordered list of the
<i>class</i> and its direct <i>superclasses</i>. The
<i>class precedence list</i>
<a name="index-class-precedence-list-1"></a>
 for a class C is a total ordering on
C and its <i>superclasses</i> that is consistent with the
<i>local precedence orders</i> for each of C and its <i>superclasses</i>.
</p>
<p>A <i>class</i> precedes its direct <i>superclasses</i>, 
and a direct <i>superclass</i> precedes all other 
direct <i>superclasses</i> specified to its right 
in the <i>superclasses</i> list of the <b>defclass</b> form.  
For every class C, define 
</p><div align="center">R_C={(C,C_1),(C_1,C_2),...,(C_{n-1},C_n)}
</div><p>where C_1,...,C_n are
the direct <i>superclasses</i> of C in the order in which
they are mentioned in the <b>defclass</b> form. These ordered pairs
generate the total ordering on the class C and its direct
<i>superclasses</i>.
</p>
<p>Let S_C be the set of C and its <i>superclasses</i>. Let R be
</p>
<div align="center">R=\bigcup_{c\in S_C}R_c
</div><p>.
</p>
<p>[Reviewer Note by Barmar: &ldquo;Consistent&rdquo; needs to be defined, or maybe we should say
&ldquo;logically consistent&rdquo;?]
</p>
<p>The set R might or might not generate a partial ordering, depending on
whether the R_c, c\in S_C, are 
consistent; it is assumed
that they are consistent and that R generates a partial ordering.
When the R_c are not consistent, it is said that R is inconsistent.
</p>
<p>To compute the <i>class precedence list</i> for~C,
topologically sort the elements of S_C with respect to the
partial ordering generated by R.  When the topological
sort must select a <i>class</i> from a set of two or more 
<i>classes</i>, none of
which are preceded by other <i>classes</i> with respect to~R,
the <i>class</i> selected is chosen deterministically, as described below.
</p>
<p>If R is inconsistent, an error is signaled.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="Topological-Sorting.html#Topological-Sorting" accesskey="1">Topological Sorting</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="Examples-of-Class-Precedence-List-Determination.html#Examples-of-Class-Precedence-List-Determination" accesskey="2">Examples of Class Precedence List Determination</a>:</td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<div class="header">
<p>
Next: <a href="Redefining-Classes.html#Redefining-Classes" accesskey="n" rel="next">Redefining Classes</a>, Previous: <a href="Inheritance.html#Inheritance" accesskey="p" rel="prev">Inheritance</a>, Up: <a href="Classes.html#Classes" accesskey="u" rel="up">Classes</a> &nbsp; </p>
</div>



</body>
</html>
