<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Initializing Newly Added Local Slots (Changing the Class of an Instance) (ANSI and GNU Common Lisp Document)</title>

<meta name="description" content="Initializing Newly Added Local Slots (Changing the Class of an Instance) (ANSI and GNU Common Lisp Document)">
<meta name="keywords" content="Initializing Newly Added Local Slots (Changing the Class of an Instance) (ANSI and GNU Common Lisp Document)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="index.html#Top" rel="start" title="Top">
<link href="Changing-the-Class-of-an-Instance.html#Changing-the-Class-of-an-Instance" rel="up" title="Changing the Class of an Instance">
<link href="Customizing-the-Change-of-Class-of-an-Instance.html#Customizing-the-Change-of-Class-of-an-Instance" rel="next" title="Customizing the Change of Class of an Instance">
<link href="Modifying-the-Structure-of-the-Instance.html#Modifying-the-Structure-of-the-Instance" rel="prev" title="Modifying the Structure of the Instance">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="Initializing-Newly-Added-Local-Slots-_0028Changing-the-Class-of-an-Instance_0029"></a>
<div class="header">
<p>
Next: <a href="Customizing-the-Change-of-Class-of-an-Instance.html#Customizing-the-Change-of-Class-of-an-Instance" accesskey="n" rel="next">Customizing the Change of Class of an Instance</a>, Previous: <a href="Modifying-the-Structure-of-the-Instance.html#Modifying-the-Structure-of-the-Instance" accesskey="p" rel="prev">Modifying the Structure of the Instance</a>, Up: <a href="Changing-the-Class-of-an-Instance.html#Changing-the-Class-of-an-Instance" accesskey="u" rel="up">Changing the Class of an Instance</a> &nbsp; </p>
</div>
<hr>
<a name="Initializing-Newly-Added-Local-Slots-1"></a>
<h4 class="subsection">7.2.2 Initializing Newly Added Local Slots</h4>

<p>The second step of the update initializes the newly added <i>slots</i> and
performs any other user-defined actions.  This step is implemented by
the generic function <a href="update_002dinstance_002dfor_002ddifferent_002dclass.html">update-instance-for-different-class</a>.  The
generic function <a href="update_002dinstance_002dfor_002ddifferent_002dclass.html">update-instance-for-different-class</a> is invoked
by <a href="change_002dclass.html">change-class</a> after the first step of the update has been
completed.
</p>
<p>The generic function <a href="update_002dinstance_002dfor_002ddifferent_002dclass.html">update-instance-for-different-class</a> is
invoked on arguments computed by <a href="change_002dclass.html">change-class</a>.
The first argument passed is a copy of the <i>instance</i> being updated 
and is an <i>instance</i> of the class C_{from}; 
this copy has <i>dynamic extent</i> within the generic function <a href="change_002dclass.html">change-class</a>.  
The second argument is the <i>instance</i> as updated so far by <a href="change_002dclass.html">change-class</a>
and is an <i>instance</i> of the class C_{to}.
The remaining arguments are an <i>initialization argument list</i>.
</p>
<p>There is a system-supplied primary <i>method</i> for 
<a href="update_002dinstance_002dfor_002ddifferent_002dclass.html">update-instance-for-different-class</a> that has two parameter
specializers, each of which is the <i>class</i> <a href="standard_002dobject.html">standard-object</a>.  First
this <i>method</i> checks the validity of initialization arguments and
signals an error if an initialization argument is supplied that is not
declared as valid.  (For more information, see <a href="Declaring-the-Validity-of-Initialization-Arguments.html#Declaring-the-Validity-of-Initialization-Arguments">Declaring the Validity of Initialization Arguments</a>.)
Then it calls the
generic function <b>shared-initialize</b> with the following arguments:
the
new
<i>instance</i>, a list of <i>names</i> of the newly added 
<i>slots</i>, and the
initialization arguments it received.
</p>



</body>
</html>
