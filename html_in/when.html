<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>when (ANSI and GNU Common Lisp Document)</title>

<meta name="description" content="when (ANSI and GNU Common Lisp Document)">
<meta name="keywords" content="when (ANSI and GNU Common Lisp Document)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="index.html#Top" rel="start" title="Top">
<link href="Data-and-Control-Flow-Dictionary.html#Data-and-Control-Flow-Dictionary" rel="up" title="Data and Control Flow Dictionary">
<link href="case.html#case" rel="next" title="case">
<link href="or.html#or" rel="prev" title="or">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="when"></a>
<div class="header">
<p>
Next: <a href="case.html#case" accesskey="n" rel="next">case</a>, Previous: <a href="or.html#or" accesskey="p" rel="prev">or</a>, Up: <a href="Data-and-Control-Flow-Dictionary.html#Data-and-Control-Flow-Dictionary" accesskey="u" rel="up">Data and Control Flow Dictionary</a> &nbsp; </p>
</div>
<hr>
<a name="when_002c-unless-_005bMacro_005d"></a>
<h4 class="subsection">5.3.45 when, unless                                                        [Macro]</h4>

<p><code>when</code>  <i>test-form {<i>form</i>}*</i> &rArr;  <i>{<i>result</i>}*</i>
</p>
<p><code>unless</code>  <i>test-form {<i>form</i>}*</i> &rArr;  <i>{<i>result</i>}*</i>
</p>
<a name="Arguments-and-Values_003a_003a-64"></a>
<h4 class="subsubheading">Arguments and Values::</h4>

<p><i>test-form</i>&mdash;a <i>form</i>.
</p>
<p><i>forms</i>&mdash;an <i>implicit progn</i>.
</p>
<p><i>results</i>&mdash;the <i>values</i> of the <i>forms</i>
    in a  <b>when</b>   <i>form</i> if the <i>test-form</i> <i>yields</i> <i>true</i> 
 or in an <b>unless</b> <i>form</i> if the <i>test-form</i> <i>yields</i> <i>false</i>;
 otherwise <b>nil</b>.
</p>
<a name="Description_003a_003a-98"></a>
<h4 class="subsubheading">Description::</h4>

<p><b>when</b> and <b>unless</b> allow the execution of <i>forms</i> 
to be dependent on a single <i>test-form</i>.
</p>
<p>In a <b>when</b> <i>form</i>,
if the <i>test-form</i> <i>yields</i> <i>true</i>,
the <i>forms</i> are <i>evaluated</i> in order from left to right
and the <i>values</i> returned by the <i>forms</i> 
are returned from the <b>when</b> <i>form</i>. 
Otherwise, if the <i>test-form</i> <i>yields</i> <i>false</i>,
the <i>forms</i> are not <i>evaluated</i>,
and the <b>when</b> <i>form</i> returns <b>nil</b>.
</p>
<p>In an <b>unless</b> <i>form</i>,
if the <i>test-form</i> <i>yields</i> <i>false</i>,
the <i>forms</i> are <i>evaluated</i> in order from left to right
and the <i>values</i> returned by the <i>forms</i> 
are returned from the <b>unless</b> <i>form</i>. 
Otherwise, if the <i>test-form</i> <i>yields</i> <i>false</i>,
the <i>forms</i> are not <i>evaluated</i>,
and the <b>unless</b> <i>form</i> returns <b>nil</b>.
</p>
<a name="Examples_003a_003a-72"></a>
<h4 class="subsubheading">Examples::</h4>

<div class="example">
<pre class="example"> (when t 'hello) &rArr;  HELLO
 (unless t 'hello) &rArr;  NIL
 (when nil 'hello) &rArr;  NIL
 (unless nil 'hello) &rArr;  HELLO
 (when t) &rArr;  NIL
 (unless nil) &rArr;  NIL
 (when t (prin1 1) (prin1 2) (prin1 3))
<tt> |&gt; </tt> 123
&rArr;  3
 (unless t (prin1 1) (prin1 2) (prin1 3)) &rArr;  NIL
 (when nil (prin1 1) (prin1 2) (prin1 3)) &rArr;  NIL
 (unless nil (prin1 1) (prin1 2) (prin1 3))
<tt> |&gt; </tt> 123
&rArr;  3
 (let ((x 3))
   (list (when (oddp x) (incf x) (list x))
         (when (oddp x) (incf x) (list x))
         (unless (oddp x) (incf x) (list x))
         (unless (oddp x) (incf x) (list x))
         (if (oddp x) (incf x) (list x)) 
         (if (oddp x) (incf x) (list x)) 
         (if (not (oddp x)) (incf x) (list x)) 
         (if (not (oddp x)) (incf x) (list x))))
&rArr;  ((4) NIL (5) NIL 6 (6) 7 (7))
</pre></div>

<a name="See-Also_003a_003a-82"></a>
<h4 class="subsubheading">See Also::</h4>

<p><a href="and.html#and">and</a>, 

<a href="cond.html#cond">cond</a>, 

<a href="if.html#if">if</a>, 

<a href="or.html#or">or</a>
</p>
<a name="Notes_003a_003a-52"></a>
<h4 class="subsubheading">Notes::</h4>

<div class="example">
<pre class="example"> (when <i>test</i> {<i>form</i>}^+) &equiv; (and <i>test</i> (progn {<i>form</i>}^+))
 (when <i>test</i> {<i>form</i>}^+) &equiv; (cond (<i>test</i> {<i>form</i>}^+))
 (when <i>test</i> {<i>form</i>}^+) &equiv; (if <i>test</i> (progn {<i>form</i>}^+) nil)
 (when <i>test</i> {<i>form</i>}^+) &equiv; (unless (not <i>test</i>) {<i>form</i>}^+)
 (unless <i>test</i> {<i>form</i>}^+) &equiv; (cond ((not <i>test</i>) {<i>form</i>}^+))
 (unless <i>test</i> {<i>form</i>}^+) &equiv; (if <i>test</i> nil (progn {<i>form</i>}^+))
 (unless <i>test</i> {<i>form</i>}^+) &equiv; (when (not <i>test</i>) {<i>form</i>}^+)
</pre></div>

<hr>
<div class="header">
<p>
Next: <a href="case.html#case" accesskey="n" rel="next">case</a>, Previous: <a href="or.html#or" accesskey="p" rel="prev">or</a>, Up: <a href="Data-and-Control-Flow-Dictionary.html#Data-and-Control-Flow-Dictionary" accesskey="u" rel="up">Data and Control Flow Dictionary</a> &nbsp; </p>
</div>



</body>
</html>
