<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>when (ANSI and GNU Common Lisp Document)</title>

<meta name="description" content="when (ANSI and GNU Common Lisp Document)">
<meta name="keywords" content="when (ANSI and GNU Common Lisp Document)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="index.html#Top" rel="start" title="Top">
<link href="Data-and-Control-Flow-Dictionary.html#Data-and-Control-Flow-Dictionary" rel="up" title="Data and Control Flow Dictionary">
<link href="case.html#case" rel="next" title="case">
<link href="or.html#or" rel="prev" title="or">



</head>

<body lang="en">
<a name="when"></a>
<div class="header">
<p>
Next: <a href="case.html#case" accesskey="n" rel="next">case</a>, Previous: <a href="or.html#or" accesskey="p" rel="prev">or</a>, Up: <a href="Data-and-Control-Flow-Dictionary.html#Data-and-Control-Flow-Dictionary" accesskey="u" rel="up">Data and Control Flow Dictionary</a> &nbsp; </p>
</div>
<hr>
<a name="when_002c-unless-_005bMacro_005d"></a>
<h4 class="subsection">5.3.45 when, unless                                                        [Macro]</h4>

<p><code>when</code>  <i>test-form {<i>form</i>}*</i> &rArr;  <i>{<i>result</i>}*</i>
</p>
<p><code>unless</code>  <i>test-form {<i>form</i>}*</i> &rArr;  <i>{<i>result</i>}*</i>
</p>
<a name="Arguments-and-Values_003a_003a-64"></a>
<h4 class="subsubheading">Arguments and Values::</h4>

<p><i>test-form</i>&mdash;a <i>form</i>.
</p>
<p><i>forms</i>&mdash;an <i>implicit progn</i>.
</p>
<p><i>results</i>&mdash;the <i>values</i> of the <i>forms</i>
    in a  <b><a href="when.html">when</a></b>   <i>form</i> if the <i>test-form</i> <i>yields</i> <i>true</i> 
 or in an <b>unless</b> <i>form</i> if the <i>test-form</i> <i>yields</i> <i>false</i>;
 otherwise <a href="NILv.html">nil</a>.
</p>
<a name="Description_003a_003a-98"></a>
<h4 class="subsubheading">Description::</h4>

<p><b><a href="when.html">when</a></b> and <b>unless</b> allow the execution of <i>forms</i> 
to be dependent on a single <i>test-form</i>.
</p>
<p>In a <b><a href="when.html">when</a></b> <i>form</i>,
if the <i>test-form</i> <i>yields</i> <i>true</i>,
the <i>forms</i> are <i>evaluated</i> in order from left to right
and the <i>values</i> returned by the <i>forms</i> 
are returned from the <b><a href="when.html">when</a></b> <i>form</i>. 
Otherwise, if the <i>test-form</i> <i>yields</i> <i>false</i>,
the <i>forms</i> are not <i>evaluated</i>,
and the <b><a href="when.html">when</a></b> <i>form</i> returns <a href="NILv.html">nil</a>.
</p>
<p>In an <b>unless</b> <i>form</i>,
if the <i>test-form</i> <i>yields</i> <i>false</i>,
the <i>forms</i> are <i>evaluated</i> in order from left to right
and the <i>values</i> returned by the <i>forms</i> 
are returned from the <b>unless</b> <i>form</i>. 
Otherwise, if the <i>test-form</i> <i>yields</i> <i>true</i>,
the <i>forms</i> are not <i>evaluated</i>,
and the <b>unless</b> <i>form</i> returns <a href="NILv.html">nil</a>.
</p>
<a name="Examples_003a_003a-72"></a>
<h4 class="subsubheading">Examples::</h4>

<div class="example">
<pre class="example"> (when t 'hello) &rArr;  HELLO
 (unless t 'hello) &rArr;  NIL
 (when nil 'hello) &rArr;  NIL
 (unless nil 'hello) &rArr;  HELLO
 (when t) &rArr;  NIL
 (unless nil) &rArr;  NIL
 (when t (prin1 1) (prin1 2) (prin1 3))
<tt> |&gt; </tt> 123
&rArr;  3
 (unless t (prin1 1) (prin1 2) (prin1 3)) &rArr;  NIL
 (when nil (prin1 1) (prin1 2) (prin1 3)) &rArr;  NIL
 (unless nil (prin1 1) (prin1 2) (prin1 3))
<tt> |&gt; </tt> 123
&rArr;  3
 (let ((x 3))
   (list (when (oddp x) (incf x) (list x))
         (when (oddp x) (incf x) (list x))
         (unless (oddp x) (incf x) (list x))
         (unless (oddp x) (incf x) (list x))
         (if (oddp x) (incf x) (list x)) 
         (if (oddp x) (incf x) (list x)) 
         (if (not (oddp x)) (incf x) (list x)) 
         (if (not (oddp x)) (incf x) (list x))))
&rArr;  ((4) NIL (5) NIL 6 (6) 7 (7))
</pre></div>

<a name="See-Also_003a_003a-82"></a>
<h4 class="subsubheading">See Also::</h4>

<p><a href="and.html#and">and</a>, 

<a href="cond.html#cond">cond</a>, 

<a href="if.html#if">if</a>, 

<a href="or.html#or">or</a>
</p>
<a name="Notes_003a_003a-52"></a>
<h4 class="subsubheading">Notes::</h4>

<div class="example">
<pre class="example"> (when <i>test</i> {<i>form</i>}^+) &equiv; (and <i>test</i> (progn {<i>form</i>}^+))
 (when <i>test</i> {<i>form</i>}^+) &equiv; (cond (<i>test</i> {<i>form</i>}^+))
 (when <i>test</i> {<i>form</i>}^+) &equiv; (if <i>test</i> (progn {<i>form</i>}^+) nil)
 (when <i>test</i> {<i>form</i>}^+) &equiv; (unless (not <i>test</i>) {<i>form</i>}^+)
 (unless <i>test</i> {<i>form</i>}^+) &equiv; (cond ((not <i>test</i>) {<i>form</i>}^+))
 (unless <i>test</i> {<i>form</i>}^+) &equiv; (if <i>test</i> nil (progn {<i>form</i>}^+))
 (unless <i>test</i> {<i>form</i>}^+) &equiv; (when (not <i>test</i>) {<i>form</i>}^+)
</pre></div>

<h4 class="subsubheading">Errata::</h4>
<p><i>This section lists errata in the ANSI standard that have been amended in this CLCS entry.</i></p>
<ul>
<li>The description of <a href="when.html">unless</a> contains a typo: <i>false</i> is written where it should say <i>true</i>.
<blockquote>"In an unless form, if the test-form yields false, the forms are evaluated in order from left to right and the values returned by the forms are returned from the unless form. Otherwise, if the test-form yields <b>false</b>, the forms are not evaluated, and the unless form returns nil."</blockquote></li>
</ul>

<hr>
<div class="header">
<p>
Next: <a href="case.html#case" accesskey="n" rel="next">case</a>, Previous: <a href="or.html#or" accesskey="p" rel="prev">or</a>, Up: <a href="Data-and-Control-Flow-Dictionary.html#Data-and-Control-Flow-Dictionary" accesskey="u" rel="up">Data and Control Flow Dictionary</a> &nbsp; </p>
</div>



</body>
</html>
